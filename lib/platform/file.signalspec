with Base() def file(const dir: #r | #w, const name) = new Bytes(dir[#r = #up, #w = #dn]) {
    alt #const dir {
        #r => { primitive file_read(name) }
        #w => { primitive file_write(name) }
    }
}
