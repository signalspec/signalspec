protocol Seq(T, mode: #up|#dn|#pull) mode[#up=#up, #dn=#dn, #pull=#sync] {
    val(var(mode[#up=#up, #dn=#dn, #pull=#up]) T)
}
