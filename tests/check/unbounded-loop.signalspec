with Seq(#h|#l, d)
def main() = Seq(0..3, d) {
  repeat {
    on val(v) {
      val(#h)
      repeat v { val(#h) }
    }
    repeat 1..10 { val(#l) }
  }
}

test @up(Seq(#h|#l, _)) {
  val(#h);
  val(#l);
  val(#h);
  val(#h);
  val(#l);
  val(#h);
  val(#h);
  val(#h);
  val(#l)
} | main() | { val(0); val(1); val(2) };
