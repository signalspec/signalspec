let t = #a|#b|#c|#d|#e

with Seq(t, _)
def main() = {
    val(#a)
    repeat {
        repeat {
            val(#b)
        }
        repeat {
            val(#c)
        }
        val(#d)
    }
    val(#e)
}

test @up(Seq(t, _)) { val(#a) ; val(#e) } | main();
test @up(Seq(t, _)) { val(#a) ; val(#b) ; val(#c) ; val(#d) ; val(#e) } | main();
test @up(Seq(t, _)) { val(#a) ; val(#b) ; val(#b) ; val(#c) ; val(#c) ; val(#c) ; val(#d) ; val(#b) ; val(#d) ; val(#e) } | main();
test fail @up(Seq(t, _)){ val(#a) ; val(#b) ; val(#c) } | main();
