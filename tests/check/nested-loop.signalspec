let t = #a|#b|#c|#d|#e

def main() {
    #a
    repeat {
        repeat {
            #b
        }
        repeat {
            #c
        }
        #d
    }
    #e
}

test @up(t) { #a ; #e } main();
test @up(t) { #a ; #b ; #c ; #d ; #e } main();
test @up(t) { #a ; #b ; #b ; #c ; #c ; #c ; #d ; #b ; #d ; #e } main();
test fail @up(t){ #a ; #b ; #c } main();
