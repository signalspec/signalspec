let t = #a|#b|#c|#d

with Seq((t, t), _)
def main() = {
    val((#a, #b))
    val((#c, #d))
}

test @both(Seq((t, t), _)) { val((#a, #b)); val((#c, #d)) } | main();
test fail @up(Seq((t, t), _)) { val((#a, #d)); val((#c, #b)) } | main(); //TODO: failure semantics
